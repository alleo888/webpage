<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Al's Coffee Corner</title>
  <link href="https://cdn.jsdelivr.net/npm/@n8n/chat/dist/style.css" rel="stylesheet" />
  <style>
    /* your existing CSS remains unchanged */
    :root {
      --chat--color-primary: #6f4e37;
      /* ... rest of your variables ... */
    }
    body {
      font-family: 'Segoe UI', sans-serif;
      margin: 0;
      padding: 0;
      background-color: #fdf6f0;
      color: #333;
    }
    /* ... rest of your styles ... */
  </style>
</head>
<body>

  <header>
    <h1>Al's Coffee Corner</h1>
    <p>Your cozy spot for coffee and conversation</p>
  </header>

  <nav>
    <a href="#menu">Menu</a>
    <a href="#about">About Us</a>
    <a href="#contact">Contact</a>
  </nav>

  <section id="menu">
    <!-- your menu section -->
  </section>

  <section id="about">
    <!-- your about section -->
  </section>

  <section id="contact">
    <!-- your contact section -->
  </section>

  <!-- âœ… NEW CUSTOMER REQUEST FORM SECTION -->
  <section id="customer-request">
    <h2>Send Us a Request</h2>
    <form id="requestForm">
      <label for="name">Name:</label><br>
      <input type="text" id="name" name="name" required><br><br>

      <label for="contact">Contact Number:</label><br>
      <input type="tel" id="contact" name="contact" required><br><br>

      <label for="email">Email:</label><br>
      <input type="email" id="email" name="email" required><br><br>

      <label for="query">Your Query:</label><br>
      <textarea id="query" name="query" rows="4" required></textarea><br><br>

      <button type="submit">Submit Request</button>
    </form>
  </section>

  <footer>
    <p>&copy; 2025 Al's Coffee Corner. All rights reserved.</p>
  </footer>

  <!-- âœ… EXISTING n8n CHAT SCRIPT -->
  <script type="module">
    import { createChat } from 'https://cdn.jsdelivr.net/npm/@n8n/chat/dist/chat.bundle.es.js';

    createChat({
      webhookUrl: 'https://n8n-alleo.zeabur.app/webhook/4091fa09-fb9a-4039-9411-7104d213f601/chat',
      webhookConfig: {
        method: 'POST',
        headers: {}
      },
      target: '#n8n-chat',
      mode: 'window',
      chatInputKey: 'chatInput',
      chatSessionKey: 'sessionId',
      loadPreviousSession: true,
      metadata: {},
      showWelcomeScreen: false,
      defaultLanguage: 'en',
      initialMessages: [
        'My name is Leo. How can I assist you today?'
      ],
      i18n: {
        en: {
          title: 'Hi there! ðŸ‘‹',
          subtitle: "We're here to help you 24/7.",
          footer: '',
          getStarted: 'New Conversation',
          inputPlaceholder: 'Type your question..',
        },
      },
      enableStreaming: false,
    });
  </script>

  <!-- âœ… NEW SCRIPT TO HANDLE FORM SUBMISSION -->
  <script>
    document.getElementById('requestForm').addEventListener('submit', function(e) {
      e.preventDefault();

      const data = {
        name: document.getElementById('name').value,
        contact: document.getElementById('contact').value,
        email: document.getElementById('email').value,
        query: document.getElementById('query').value,
        timestamp: new Date().toISOString()
      };

      fetch('https://n8n-alleo.zeabur.app/webhook/18080ca6-64a9-47f0-8c08-589bf97ce7d6', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json'
        },
        body: JSON.stringify(data)
      })
      .then(response => {
        if (response.ok) {
          alert('Your request has been sent successfully!');
          document.getElementById('requestForm').reset();
        } else {
          alert('Failed to send your request.');
        }
      })
      .catch(error => {
        console.error('Error:', error);
        alert('Error sending your request.');
      });
    });
  </script>

</body>
</html>
